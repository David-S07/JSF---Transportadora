<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" template="/WEB-INF/template.xhtml"
	xmlns:f="http://java.sun.com/jsf/core">
	<ui:define name="corpo">
		<title>Rastreios</title>

		<h:form id="rastreioForm">
			<p:tabView>
				<p:tab title="Rastreios cadastrados">
					<h:panelGrid columns="1" cellpadding="10">
						<p:dataTable id="compr" emptyMessage="Nenhum rastreio cadastrado"
							value="#{rastreioBean.obterRastreios()}" var="rastreio"
							border="1">
							<p:column headerText="Id" sortBy="#{rastreio.id}"
								filterBy="#{rastreio.id}">
								<h:outputText value="#{rastreio.id}" />
							</p:column>
							<p:column headerText="Nome" sortBy="#{rastreio.nome}"
								filterBy="#{rastreio.nome}">
								<h:outputText value="#{rastreio.nome}" />
							</p:column>
							<p:column headerText="Data/Hora Inicio" sortBy="#{rastreio.dataHoraInicio}"
								filterBy="#{rastreio.dataHoraInicio}">
								<h:outputText value="#{rastreio.dataHoraInicio}"></h:outputText>
							</p:column>
							<p:column headerText="Data/Hora Fim"
								sortBy="#{rastreio.dataHoraFim}"
								filterBy="#{rastreio.dataHoraFim}">
								<h:outputText value="#{rastreio.dataHoraFim}">
									<f:convertDateTime pattern="dd/MM/yyyy - HH:mm" />
								</h:outputText>
							</p:column>
							<p:column headerText="Local" sortBy="#{rastreio.local}"
								filterBy="#{rastreio.local}">
								<h:outputText value="#{rastreio.local}" />
							</p:column>
							<p:column headerText="Códigos de Rastreios"
								sortBy="#{rastreio.codigoRastreio}"
								filterBy="#{rastreio.codigoRastreio}">
								<h:outputText value="#{rastreio.codigoRastreio}" />
							</p:column>
							<p:column headerText="Anotações"
								sortBy="#{rastreio.anotacoes}"
								filterBy="#{rastreio.anotacoes}">
								<h:outputText value="#{rastreio.anotacoes}" />
							</p:column>
							<p:column>
								<p:commandButton
									action="#{rastreioBean.editar(rastreio)}"
									value="Editar" image="ui-icon-tag" update="rastreioForm">
								</p:commandButton>
							</p:column>
							<p:column>
								<p:commandButton
									actionListener="#{rastreioBean.excluir(rastreio.id)}"
									value="Excluir" image="ui-icon-trash" update="rastreioForm">
									<p:confirm header="Confirmação"
										message="Deseja realmente excluir este rastreio?"
										icon="pi pi-exclamation-triangle" />
								</p:commandButton>
								<p:confirmDialog global="true" showEffect="fade"
									hideEffect="fade" responsive="true" width="350">
									<p:commandButton value="Não" type="button"
										styleClass="ui-confirmdialog-no ui-button-flat" />
									<p:commandButton value="Sim" type="button"
										styleClass="ui-confirmdialog-yes" />
								</p:confirmDialog>

							</p:column>
						</p:dataTable>
					</h:panelGrid>
				</p:tab>
			</p:tabView>
		</h:form>
	</ui:define>
</ui:composition>